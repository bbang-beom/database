# chapter02 관계 데이터 모델

## 01 관계 데이터 모델의 개념
- 1970년대 IBM 연구소의 에드가 박사가 제안한 관계 데이터 모델
- 수학의 집합 이론에 근거하여 다른 모델에 비해 이론적인 토대가 탄탄하다.

1. 릴레이션의 개념
    - 릴레이션(relation)은 행과 열로 구성된 테이블
    - relational data model, relational database 등에서 관계로 번역
    - 릴레이션은 수학의 집합에서 나온 개념, 도서 데이터를 예로 들면
    각 도서의 네 개의 집합인 도서번호, 도서이름, 출판사, 가격의 원소 값으로 구성되고,
    각 집합은 원소를 갖고있다.
        - 도서번호 = {1, 2, 3, 4, 5}
        - 도서이름 = {축구의 역사, 축구의 이해, 골프 바이블}
        - 출판사 = {굿스포츠, 나무수, 대한미디어}
        - 가격 = {7000, 13000, 22000, 35000, 8000}
        - 집합에서 각각의 원소들이 관계를 맺고있다.
        - 관계에는 릴레이션(테이블)내의 관계와 릴레이션(테이블)간의 관계가 있다.
        릴레이션 내의 관계는 릴레이션 내의 데이터를 집합으로 표현하고, 릴레이션 간의 관계는
        릴레이션을 식별 가능한 값을 이용해 표현한다.
2. 릴레이션 스키마와 인스턴스
    - 릴레이션은 스키마와 인스턴스로 이루어진다. 스키마(schema)는 관게 데이터베이스의 릴레이션이
    어떻게 구성되는지, 어떤 정보를 담고 있는지에 대한 기본적인 구조를 정의한다. 테이블에서 스카마는
    테이블의 헤더에 있다. 인스턴스(instanced)는 정의된 스키마에 따라 테이블에 실제로 저장되는 데이터의 집합을 의미한다.
    - 릴레이션 스키마
        - 릴레이션 스키마는 릴레이션에 어떤 정보가 담길지를 정의한다.
        - 각 열을 속성(attribute)라고 한다.
        - 속성에는 각각의 이름이 있으며 그 이름을 보고 어떤 정보가 담기는지 알 수 있다.
        - 도메인(domain): 속성이 가질 수 있는 값의 집합
        - 차수(degree): 속성의 개수
    - 릴레이션 인스턴스
        - 릴레이션에서 한 행을 투플(tuple)이라고 부른다.
        - 릴레이션에 저장된 투플의 수 카디널리티(cardinality)라 한다.
3. 릴레이션의 특징
    - 속성은 단일 값을 가진다.
        - 취미의 집합 = {운동, 등산, 독서, 게임, {농구, 축구}} - 불가
        - 각 속성의 값은 도메인에 정의된 값만을 가지며 그 값은 모두 단일 값이어야 한다.
        - {농구, 축구}와 같이 여러 개의 값을 가질 수 없다.
        - 속성은 서로 다른 이름을 가진다.
        - 속성의 순서는 상관없다.
        - 릴레이션 내의 중복된 투플은 허용하지 않는다.
        - 투플의 순서는 상관없다.

## 02 무결성 제약 조건
1. 키
- 키는 대상을 유일하게 식별한다는 의미가 있다.
- 관계 데이터베이스에서 키는 릴레이션에서 특정 투플을 식별할 때 사용하는 속성 혹은 속성의 집합이다.
- 투플에 포함된 속성 중 어느 하나는 값이 달라야 한다. 즉, 키가 되는 속성은 반드시 투플들을 구별할 수 있어야 한다.
- 키는 릴레이션 간의 관계를 맺는 데도 사용된다.

- 슈퍼키
    - 슈퍼키(super key)는 투플을 유일하게 식별할 수 있는 하나의 속성 혹은 속성의 집합을 말한다.
- 후보키
    - 후보키는 투플을 유일하게 식별할 수 있는 속성의 최소 집합
- 기본키(primary key)
    - 기본키는 여러 후보키 중 하나를 선정하여 대표로 삼는 키를 말한다.
    - 기본키 제약 조건
        - 릴레이션 내 투플을 식별할 수 있는 고유한 값을 가져야한다.
        - null 값은 허용하지 않는다.
        - 키 값의 변동이 일어나지 않아야한다.
        - 최대한 적은 수의 속성을 가진 것이어야 한다.
        - 향후 키를 사용하는 데 있어 문제 발생 소지가 없어야 한다.
- 외래키
    - 외래키는 다른 릴레이션의 기본키를 참조하는 속성

